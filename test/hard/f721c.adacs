-- $F721C -- adapted from the following ACVC test(s):
--   C61003B-AB.ADA
 
-- CHECK THAT A SUBPROGRAM DECLARATION AND A SUBPROGRAM BODY CAN BE
--   GIVEN SEPARATELY IN THE SAME DECLARATIVE PART, BUT THAT THE
--   SUBPROGRAM DECLARATION MUST PRECEDE THE SUBPROGRAM BODY.
 
PACKAGE Main IS
 
BODY
 
     XX, YY, ZZ      : INTEGER := 15;
 
     PROCEDURE P2 (X : IN INTEGER;  Y : IN OUT INTEGER;
                   Z : OUT INTEGER);
 
     FUNCTION F2  (X : IN INTEGER) RETURN INTEGER;
 
     PROCEDURE P1 (X : IN INTEGER;  Y : IN OUT INTEGER;
                   Z : OUT INTEGER) IS
     BEGIN
          P2 (X, Y, Z);
     END P1;
 
     PROCEDURE P2 (X : IN INTEGER; Y : IN OUT INTEGER;
                   Z : OUT INTEGER) IS
     BEGIN
          Y := Y + X;
          Z := X + Y;
     END P2;
 
     FUNCTION F1 (X : IN INTEGER) RETURN INTEGER IS
     BEGIN
          RETURN F2 (X);
     END F1;
 
     FUNCTION F2 (X : IN INTEGER) RETURN INTEGER IS
     BEGIN
          RETURN (X + 1);
     END F2;
 
BEGIN
     WRITE("Test $F721C:"; NEXT);
 
     P1 (XX, YY, ZZ);
     IF ((XX /= 15) OR (YY /= 30) OR (ZZ /= 45)) THEN
          WRITE(NEXT; "==> PROCEDURE P2 NOT INVOKED PROPERLY");
     END IF;
 
     IF (F1(5) /= 6) THEN
          WRITE(NEXT; "==> FUNCTION F2 NOT INVOKED PROPERLY");
     END IF;
 
     WRITE(NEXT);
END Main;
